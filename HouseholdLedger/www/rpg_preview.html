<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RPG Status Visualizer (Fixed)</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body {
      background-color: #222;
      color: #eee;
      font-family: 'Roboto Mono', monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 24px 12px;
      box-sizing: border-box;
      gap: 14px;
    }

    h1 {
      margin: 0;
      font-size: 1.5rem;
      color: #fff;
      text-align: center;
    }

    /* ë ˆíŠ¸ë¡œ ë‹¨ë§ê¸° ìŠ¤íƒ€ì¼ í™”ë©´ */
    #screen-container {
      background-color: #111;
      border: 4px solid #444;
      border-radius: 10px;
      padding: 16px;
      box-shadow: 0 0 20px rgba(0,0,0,0.8);
      width: 340px;
      height: 220px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    #screen {
      font-family: 'Roboto Mono', monospace;
      white-space: pre;
      font-size: 15px;
      line-height: 1.2;
      font-weight: 700;
    }

    /* ìƒíƒœë³„ ìƒ‰ìƒ */
    .state-danger #screen { color: #ff5252; text-shadow: 0 0 5px #ff5252; }
    .state-bossFight #screen { color: #ff1744; text-shadow: 0 0 8px #ff1744; }
    .state-battle #screen { color: #ffab40; }
    .state-kingdom #screen { color: #ffd740; text-shadow: 0 0 5px #ffd740; }
    .state-gameOver #screen { color: #9e9e9e; }
    .state-adventure #screen { color: #69f0ae; }

    /* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ì˜ì—­ */
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      max-width: 600px;
      padding: 0 10px;
    }

    button {
      background-color: #333;
      border: 1px solid #555;
      color: #ccc;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.8rem;
      transition: all 0.2s;
    }

    button:hover {
      background-color: #444;
      color: #fff;
    }

    button.active {
      background-color: #4caf50;
      border-color: #4caf50;
      color: #111;
      font-weight: 700;
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.4);
    }

    /* ìƒíƒœë³„ ë²„íŠ¼ í™œì„± ìƒ‰ìƒ */
    button[data-key="gameOver"].active { background-color: #9e9e9e; border-color: #9e9e9e; color:#111; }
    button[data-key="bossFight"].active { background-color: #ff1744; border-color: #ff1744; color: white; }
    button[data-key="battle"].active { background-color: #ffab40; border-color: #ffab40; color:#111; }
    button[data-key="kingdom"].active { background-color: #ffd740; border-color: #ffd740; color:#111; }
    button[data-key="danger"].active { background-color: #ff5252; border-color: #ff5252; color: white; }

    /* ì„¤ëª…/í‘œ ì˜ì—­ (ë§ˆí¬ë‹¤ìš´ ëŒ€ì‹  HTMLë¡œ) */
    .panel {
      width: min(900px, 96vw);
      background: #151515;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 14px;
      box-shadow: 0 0 18px rgba(0,0,0,0.35);
      overflow: auto;
    }

    details > summary {
      cursor: pointer;
      user-select: none;
      font-weight: 700;
      color: #fff;
      margin-bottom: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0 14px;
      font-size: 0.9rem;
    }

    th, td {
      border: 1px solid #333;
      padding: 8px 10px;
      vertical-align: top;
    }

    th {
      background: #1d1d1d;
      color: #fff;
      text-align: left;
      position: sticky;
      top: 0;
    }

    code {
      background: #0f0f0f;
      border: 1px solid #2a2a2a;
      padding: 1px 6px;
      border-radius: 6px;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.9em;
      color: #e6e6e6;
    }

    pre.ascii {
      background: #0f0f0f;
      border: 1px solid #2a2a2a;
      border-radius: 10px;
      padding: 10px 12px;
      margin: 10px 0 14px;
      white-space: pre;
      overflow: auto;
      line-height: 1.15;
    }

    .ascii-title {
      margin: 14px 0 6px;
      font-weight: 700;
      color: #fff;
    }
  </style>
</head>

<body>
  <h1>RPG Status Visualizer</h1>

  <div id="screen-container">
    <div id="screen"></div>
  </div>

  <div class="controls" id="btn-group"></div>

  <div class="panel">
    <details open>
      <summary>ìƒíƒœ ìš°ì„ ìˆœìœ„ &amp; ASCII ì•„íŠ¸ ê°¤ëŸ¬ë¦¬</summary>

      <table aria-label="status-priority-table">
        <thead>
          <tr>
            <th>ìš°ì„ ìˆœìœ„</th>
            <th>ìƒí™© ëª… (Code)</th>
            <th>íŒë‹¨ ì¡°ê±´ (Logic)</th>
            <th>ìŠ¤í† ë¦¬í…”ë§</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><b>1</b></td>
            <td><b>GAME OVER</b></td>
            <td><code>HP &lt;= 0</code></td>
            <td>íŒŒì‚° ìƒíƒœ. ìš©ì‚¬ëŠ” ì“°ëŸ¬ì¡Œê³  ì—¬ì •ì€ ë©ˆì·„ìŠµë‹ˆë‹¤.</td>
          </tr>
          <tr>
            <td><b>2</b></td>
            <td><b>BOSS FIGHT</b></td>
            <td><code>HP &gt; 0</code> AND <code>Gremlin Count &gt;= 5</code></td>
            <td>ê³¼ì†Œë¹„ í•­ëª©ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤! ê±°ëŒ€ ê·¸ë ˜ë¦°(ë³´ìŠ¤)ì´ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.</td>
          </tr>
          <tr>
            <td><b>3</b></td>
            <td><b>BATTLE</b></td>
            <td><code>HP &gt; 0</code> AND <code>Gremlin Count &gt; 3</code></td>
            <td>ì˜ˆì‚°ì„ ì´ˆê³¼í•œ í•­ëª©ì´ í•˜ë‚˜ë¼ë„ ìˆìŠµë‹ˆë‹¤. ìš©ì‚¬ê°€ ê·¸ë ˜ë¦°ê³¼ ì‹¸ìš°ê³  ìˆìŠµë‹ˆë‹¤.</td>
          </tr>
          <tr>
            <td><b>4</b></td>
            <td><b>KINGDOM</b></td>
            <td><code>Level &gt;= 10</code> AND <code>Gremlin Count == 0</code></td>
            <td>ë ˆë²¨ì´ ë†’ê³ (ìì‚°ì´ ìŒ“ì„) ê³¼ì†Œë¹„ê°€ ì—†ìŠµë‹ˆë‹¤. ìš©ì‚¬ëŠ” ì´ì œ ì„±ì£¼ê°€ ë˜ì–´ ì—¬ìœ ë¥¼ ì¦ê¹ë‹ˆë‹¤.</td>
          </tr>
          <tr>
            <td><b>5</b></td>
            <td><b>DANGER</b></td>
            <td><code>HP &lt; 30</code> AND <code>Gremlin Count == 0</code></td>
            <td>ê³¼ì†Œë¹„ëŠ” ì—†ì§€ë§Œ ì˜ˆì‚°ì´ ê°„ë‹¹ê°„ë‹¹í•©ë‹ˆë‹¤. ì‹ëŸ‰ì´ ë–¨ì–´ì ¸ ë°°ê³ í”ˆ ìƒíƒœì…ë‹ˆë‹¤.</td>
          </tr>
          <tr>
            <td><b>6</b></td>
            <td><b>ADVENTURE</b></td>
            <td>ê·¸ ì™¸ (ê¸°ë³¸ ìƒíƒœ)</td>
            <td>í‰í™”ë¡­ìŠµë‹ˆë‹¤. ìš©ì‚¬ëŠ” ë¬µë¬µíˆ ì €ì¶•ì˜ ê¸¸ì„ ê±·ê³  ìˆìŠµë‹ˆë‹¤.</td>
          </tr>
        </tbody>
      </table>

      <div class="ascii-title">Type 1. GAME OVER (íŒŒì‚°)</div>
      <pre class="ascii">     _______
    /       \
   /  R.I.P  \
  |   EMPTY   |
  |  WALLET   |
  |___________|
   ğŸ’€ GAME OVER</pre>

      <div class="ascii-title">Type 2. BOSS FIGHT (ê·¸ë ˜ë¦° ë–¼ ì¶œëª°)</div>
      <pre class="ascii">    ( WARNING! )
      \  /
    ğŸ‘¹ \/ ğŸ‘¹
   /||\__//||\
  / ||_OO_|| \
    _/    \_
 [ BOSS BATTLE ]</pre>

      <div class="ascii-title">Type 3. BATTLE (ê·¸ë ˜ë¦° ì¶œí˜„)</div>
      <pre class="ascii">      !      ?
    (You)  (Gremlin)
     _O_    _^_
    /| |\   (oo)
    / \/   /|__|\
    âš”ï¸ VS  ğŸ’°
   [ FIGHTING ]</pre>

      <div class="ascii-title">Type 4. KINGDOM (ê³ ë ˆë²¨ &amp; ì•ˆì •)</div>
      <pre class="ascii">     * *
    _|_ _|_
   |  |_|  | ğŸ°
   |_______|
    / ___ \
   |  ğŸ‘‘   |
   | \_|_/ |
  [ WEALTHY ]</pre>

      <div class="ascii-title">Type 5. DANGER (ì˜ˆì‚° ë¶€ì¡±)</div>
      <pre class="ascii">    ( Help... )
      o
     O  ğŸ›¡ï¸
    /|\/|]
    / \ |]
   _/\_ |]
  [ SURVIVAL ]</pre>

      <div class="ascii-title">Type 6. ADVENTURE (ê¸°ë³¸ ìƒíƒœ)</div>
      <pre class="ascii">      â˜ï¸
           â˜€ï¸
      O   /
     /|\ /
     / \/
    /  /
  [ WALKING ]</pre>
    </details>
  </div>

  <script>
    const RPG_STATUS_FRAMES = {
      adventure: [
String.raw`    â˜  â˜€      ğŸ—ºï¸
     O        â›º
    /|\/
    / \    ğŸŒ²
   /  /    ğŸŒ²
 ==[  WALK  ]==`,
String.raw`    â˜  â˜€      ğŸ—ºï¸
     O        â›º
    /|\_
    / \    ğŸŒ²
   /  /    ğŸŒ²
 ==[  STEP  ]==`,
String.raw`    â˜  â˜€      ğŸ—ºï¸
     O        â›º
    /|\/
    / \    ğŸŒ²ğŸŒ²
   /  /    ğŸŒ²
 ==[  TREK  ]==`,
String.raw`    â˜  â˜€      ğŸ—ºï¸
     O \      â›º
    /|\/
    / \   ğŸŒ²ğŸŒ²
   /  /    ğŸŒ²
 ==[  RUN!  ]==`,
String.raw`    â˜  â˜€      ğŸ—ºï¸
      O       â›º
     /|\/
     / \   ğŸŒ²ğŸŒ²
    /  /   ğŸŒ²
  ==[  DASH  ]==`,
String.raw`    â˜  â˜€      ğŸ—ºï¸
      O       â›º
     /|\_
     / \   ğŸŒ²
    /  /  ğŸŒ²ğŸŒ²
  ==[ SPRINT ]==`
      ],

      battle: [
String.raw`  YOU âš” GREMLIN
   _O_     _^_ _^_
  /| |\   (oo)(oo)
   / \    /|__||__\
 ==[ FIGHT ON! ]==`,
String.raw`  YOU âš” GREMLIN
    _O_    _^_ _^_
   /| |\  (><)(oo)
    / \   /|__||__\
 ==[  CLASH!!  ]==`,
String.raw`  YOU âš” GREMLIN
    _O_   _^_ _^_
   /| |\ (oo)(><)
    / \  /|__||__\
 ==[ STRIKE!!  ]==`,
String.raw`  YOU âš” GREMLIN
    _O_ğŸ’¥_^_ _^_
   /| |\ (xx)(oo)
    / \  /|__||__\
 ==[ COLLIDE!  ]==`,
String.raw`  YOU âš” GREMLIN
    _O_ğŸ’¥ _^_ _^_
   /| |\  (><)(xx)
    / \   /|__||__\
 ==[ IMPACT!!  ]==`,
String.raw`  YOU âš” GREMLIN
    _O_âš”ï¸ğŸ’¥_^_ _^_
   /| |\  (xx)(xx)
    / \   /|__||__\
 ==[ SMASH!!   ]==`
      ],

      danger: [
String.raw`  (Help...!)
   O    ğŸŒ©ï¸ğŸŒ©ï¸
  /|\   |]
  / \   |]
_/   \_ |]
==[ DANGER ]==`,
String.raw`  (Hold on!)
   O   ğŸŒ©ï¸ğŸŒ©ï¸
  /|\  |]
  / \  |]
_/   \_|]
==[ ALERT  ]==`,
String.raw`  (Brace!)
   O  ğŸŒ©ï¸ğŸŒ©ï¸
  /|\  |]
  / \  |]
_/   \_|]
==[ WARNING ]==`,
String.raw`  (âš¡ ZAP!)
   O âš¡ğŸŒ©ï¸
  /|\  |]
  / \  |]
_/   \_|]
==[ STRUCK ]==`,
String.raw`  (âš¡ HIT!!)
   Oâš¡âš¡
  /|\  |]
  / \ _|]
_/   \_|]
==[ SHOCK! ]==`,
String.raw`  (âš¡ RUMBLE)
   âš¡   âš¡
  /|\  |]
  / \ _|]
_/   \_|]
==[ SURVIVE]==`
      ],

      bossFight: [
String.raw` (âš  WARNING âš )
   ğŸ‰ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥
 /|__||__||__|\
/   BOSS RAID  \
\____/___\_____/`,
String.raw` (âš  WARNING âš )
   ğŸ²ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥
 /|__||__||__|\
/  BOSS STRIKE \
\____/___\_____/`,
String.raw` (âš  WARNING âš )
   ğŸ‰ğŸ”¥ğŸ”¥ğŸ”¥ğŸ’¥
 /|__||__||__|\
/  BOSS STRIKE \
\____/___\_____/`,
String.raw` (âš  WARNING âš )
   ğŸ²ğŸ”¥ğŸ”¥ğŸ’¥ğŸ”¥
 /|__||__||__|\
/  BOSS STRIKE \
\____/___\_____/`,
String.raw` (âš  WARNING âš )
   ğŸ‰ğŸ”¥ğŸ’¥ğŸ”¥ğŸ”¥
 /|__||__||__|\
/  BOSS ATTACK \
\____/___\_____/`,
String.raw` (âš  WARNING âš )
   ğŸ²ğŸ’¥ğŸ”¥ğŸ”¥ğŸ”¥
 /|__||__||__|\
/  BOSS ATTACK \
\____/___\_____/`
      ],

      kingdom: [
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | âœ¨
     |______| âœ¨
  ==[ WEALTH ]==`,
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | âœ¨
     |______| âœ¨
  ==[  GLORY ]==`,
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | âœ¨
     |______| âœ¨
  ==[  HONOR ]==`,
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | ğŸ†
     |______| ğŸ†
  ==[ FESTIVAL]==`,
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | ğŸ‡
     |______| âœ¨
  ==[ SPARKS ]==`,
String.raw`      /\  /\
     /__\/__\ ğŸ°
     |  __  | ğŸ’°
     | |__| | ğŸ’
     |  ğŸ‘‘  | âœ¨
     |______| ğŸ‡
  ==[ CELEBRATE]==`
      ],

      gameOver: [
String.raw`     _________
    /  R.I.P. /|
   / ________/ |
   |  EMPTY  | |
   |  WALLET | |
   |_________|/
    âš°ï¸ GAME OVER
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`,
String.raw`     _________
    /  R.I.P. /|
   / ________/ |
   |  EMPTY  | |
   |  WALLET | |
   |_________|/
    â˜ ï¸ GAME OVER
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`,
String.raw`     _________
    /  R.I.P. /|
   / ________/ |
   |  EMPTY  | |
   |  WALLET | |
   |_________|/
    ğŸ•¯ï¸ GAME OVER
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`
      ]
    };

    let intervalId = null;
    const screen = document.getElementById('screen');
    const container = document.getElementById('screen-container');
    const btnGroup = document.getElementById('btn-group');

    function playAnimation(stateKey) {
      if (intervalId) clearInterval(intervalId);

      // ìƒ‰ìƒ í´ë˜ìŠ¤ ì ìš©
      container.className = '';
      container.classList.add(`state-${stateKey}`);

      const frames = RPG_STATUS_FRAMES[stateKey] ?? [];
      if (frames.length === 0) {
        screen.textContent = 'NO FRAMES';
        return;
      }

      let frameIndex = 0;
      screen.textContent = frames[0];

      intervalId = setInterval(() => {
        frameIndex = (frameIndex + 1) % frames.length;
        screen.textContent = frames[frameIndex];
      }, 250);
    }

    // ë²„íŠ¼ ìƒì„±
    const order = ['adventure', 'battle', 'danger', 'bossFight', 'kingdom', 'gameOver'];

    order.forEach((key) => {
      if (!RPG_STATUS_FRAMES[key]) return;

      const btn = document.createElement('button');
      btn.textContent = key.toUpperCase();
      btn.dataset.key = key;

      btn.onclick = () => {
        // ì´ í˜ì´ì§€ì˜ ë²„íŠ¼ë§Œ active ì œê±°
        btnGroup.querySelectorAll('button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        playAnimation(key);
      };

      btnGroup.appendChild(btn);
    });

    // ì´ˆê¸° ì‹¤í–‰
    const startBtn = btnGroup.querySelector('button[data-key="adventure"]');
    if (startBtn) startBtn.click();
  </script>
</body>
</html>
